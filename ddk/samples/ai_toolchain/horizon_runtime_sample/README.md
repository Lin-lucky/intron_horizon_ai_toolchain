### basic_samples

The Basic Sample Package (hereafter as the BSP) is composed by samples in 3 categories:

- dnn API know-how samples.
- Demonstrations of special features, e.g. custom OP etc.
- Miscellaneous samples of Non-NV12 input model.

The basic_samples deliverable has two folders, code and sample scripts.
- The code folder provides sample source code, users can change the source code and compile it.
- The executable file generated by code compilation will be installed in the xj3/j5 folder, and the relevant example can be run by executing the corresponding script.

### Sample Code Package
​Directory of the code is shown as below:

```
+---code                       # source code of samples
  │   ├── 00_quick_start          # a quick-start single image inference sample using the MobileNetv1 model
  │   │   ├── CMakeLists.txt
  │   │   └── src
  │   ├── 01_api_tutorial         # dnn API sample code
  │   │   ├── CMakeLists.txt
  │   │   ├── mem
  │   │   ├── model
  │   │   ├── resize
  │   │   └── tensor
  │   ├── 02_advanced_samples     # special feature sample
  │   │   ├── CMakeLists.txt
  │   │   ├── custom_identity
  │   │   ├── multi_model_batch
  │   │   └── multi_stages        # only support for j5 sample 
  │   ├── 03_misc                 # miscellaneous samples
  │   │   ├── CMakeLists.txt
  │   │   ├── lenet_gray
  │   │   └── resnet_feature
  │   ├── build_xj3.sh/build_j5.sh # compilation script
  │   ├── CMakeLists.txt
  │   └── deps                    # compilation dependencies
  │       └── aarch64
  ├── xj3/j5
  │   ├── data                    # preset data
  │   │   ├── cls_images
  │   │   ├── det_images
  │   │   ├── misc_data
  │   │   └── README.md
  │   ├── model
  │   │   └── README.md
  │   └── script                  # scripts to run samples
  │       ├── 00_quick_start
  │       ├── 01_api_tutorial
  │       ├── 02_advanced_samples
  │       ├── 03_misc
  │       ├── aarch64             # executables and dependencies
  │       └── README.md
  └── README.md
```

- The 00_quick_start folder contains a quick-start sample based on the dnn API.
  This script inference a single image and parse the results using MobileNetv1.
- The 01_api_tutorial folder contains API teaching code, including 4 parts: mem, model, resize and tensor.
- The 02_advanced_samples folder contains the sample that demonstrates the custom operator (custom_identity) feature.
- The 03_misc folder contains those miscellaneous samples of non-NV12 input models.
- The build_xj3.sh/build_j5.sh is a quick application compilation script.
- The deps folder contains those sample code required third party dependencies.

- The xj3/j5 folder contains scripts to run samples, preset data and related models.
- Users can replace or delete depending on their own needs.

### Prerequisites
#### Prepare the Dev Board

Upgrade the system image to the BSP recommended version according to the upgrade instructions.
Ensure the connection between local dev machine and the dev board.


#### Compilation
​Install the gcc-linaro-6.5.0-2018.12-x86_64_aarch64-linux-gnu cross-compilation tool
and perform the build_xj3.sh/build_j5.sh script in the horizon_runtime_sample/code folder to compile executable programs
in real machine environment. The executable program and corresponding dependencies will be copied into the
aarch64 sub-folder in the xj3/script or j5/script folder.

#### Note
The default location of the cross-compilation tool specified by the build_xj3.sh/build_j5.sh script
is in the /opt sub-folder, if you wish to change the location,
please modify the build_xj3.sh/build_j5.sh script.

```
export CC=/opt/gcc-linaro-6.5.0-2018.12-x86_64_aarch64-linux-gnu/bin/aarch64-linux-gnu-gcc
export CXX=/opt/gcc-linaro-6.5.0-2018.12-x86_64_aarch64-linux-gnu/bin/aarch64-linux-gnu-g++
```
